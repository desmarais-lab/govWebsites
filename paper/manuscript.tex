\documentclass[11pt]{article}

%==============Packages & Commands==============
\usepackage{graphicx}
\usepackage{fancyvrb}
\usepackage{tikz}
%%%<
\usepackage{verbatim}
%\usepackage[active,tightpage]{preview}
%\PreviewEnvironment{tikzpicture}
%\setlength\PreviewBorder{5pt}%

\usepackage{geometry}                		% See geometry.pdf to learn the layout options. There are lots.
% \geometry{a4paper}                   		% ... or a4paper or a5paper or ...
%\geometry{landscape}                		% Activat\usetikzlibrary{arrows}e for for rotated page geometry
%\usepackage[parfill]{parskip}    		% Activate to begin paragraphs with an empty line rather than an indent
\usepackage{graphicx}				% Use pdf, png, jpg, or epsÂ§ with pdflatex; use eps in DVI mode
								% TeX will automatically convert eps --> pdf in pdflatex
\usepackage{amssymb}

\usepackage[ruled,vlined]{algorithm2e}
\usetikzlibrary{arrows}
\usepackage{alltt}
\usepackage[T1]{fontenc}
\usepackage[utf8]{inputenc}
\usepackage{indentfirst}
\usepackage[longnamesfirst]{natbib} % For references
\bibpunct{(}{)}{;}{a}{}{,} % Reference punctuation
\usepackage{changepage}
\usepackage{setspace}
\usepackage{booktabs} % For tables
\usepackage{rotating} % For sideways tables/figures
\usepackage{amsmath}
\usepackage{multirow}
\usepackage{color}
\usepackage{dcolumn}
\usepackage{comment}
%\usepackage{fullwidth}
\newcolumntype{d}[1]{D{.}{\cdot}{#1}}
\newcolumntype{.}{D{.}{.}{-1}}
\newcolumntype{3}{D{.}{.}{3}}
\newcolumntype{4}{D{.}{.}{4}}
\newcolumntype{5}{D{.}{.}{5}}
\usepackage{float}
\usepackage[hyphens]{url}
%\usepackage[margin = 1.25in]{geometry}
%\usepackage[nolists,figuresfirst]{endfloat} % Figures and tables at the end
\usepackage{subfig}
\captionsetup[subfloat]{position = top, font = normalsize} % For sub-figure captions
\usepackage{fancyhdr}
%\makeatletter
%\def\url@leostyle{%
%  \@ifundefined{selectfont}{\def\UrlFont{\sf}}{\def\UrlFont{\small\ttfamily}}}
%\makeatother
%% Now actually use the newly defined style.
\urlstyle{same}
\usepackage{times}
% \usepackage{mathptmx}
%\usepackage[colorlinks = true,
%						bookmarksopen = true,
%						pagebackref = true,
%						linkcolor = black,
%						citecolor = black,
% 					urlcolor = black]{hyperref}
%\usepackage[all]{hypcap}
%\urlstyle{same}
\newcommand{\fnote}[1]{\footnote{\normalsize{#1}}} % 12 pt, double spaced footnotes
\def\citeapos#1{\citeauthor{#1}'s (\citeyear{#1})}
\def\citeaposs#1{\citeauthor{#1}' (\citeyear{#1})}
\newcommand{\bm}[1]{\boldsymbol{#1}} %makes bold math symbols easier
\newcommand{\R}{\textsf{R}\space} %R in textsf font
\newcommand{\netinf}{\texttt{NetInf}\space} %R in textsf font
\newcommand{\iid}{i.i.d} %shorthand for iid
\newcommand{\cites}{{\bf \textcolor{red}{CITES}}} %shorthand for iid
%\usepackage[compact]{titlesec}
%\titlespacing{\section}{0pt}{*0}{*0}
%\titlespacing{\subsection}{0pt}{*0}{*0}
%\titlespacing{\subsubsection}{0pt}{*0}{*0}
%\setlength{\parskip}{0pt}
%\setlength{\parsep}{0pt}
%\setlength{\bibsep}{2pt}
%\renewcommand{\headrulewidth}{0pt}

%\renewcommand{\figureplace}{ % This places [Insert Table X here] and [Insert Figure Y here] in the text
%\begin{center}
%[Insert \figurename~\thepostfig\ here]
%\end{center}}
%\renewcommand{\tableplace}{%
%\begin{center}
%[Insert \tablename~\theposttbl\ here]
%\end{center}}

\newcommand\independent{\protect\mathpalette{\protect\independenT}{\perp}}
\def\independenT#1#2{\mathrel{\rlap{$#1#2$}\mkern2mu{#1#2}}}
\newcommand{\N}{\mathcal{N}}
\newcommand{\Y}{\bm{\mathcal{Y}}}
\newcommand{\bZ}{\bm{Z}}

\usepackage[colorlinks = TRUE, urlcolor = black, linkcolor = black, citecolor = black, pdfstartview = FitV]{hyperref}


%============Article Title, Authors==================
\title{\vspace{-2cm} Content of Municipal Government Websites }


\author{ Markus Neumann \and Bruce Desmarais \and Hanna Wallach} \date{\today}



%===================Startup=======================
\begin{document}
\maketitle



%=============Abstract & Keywords==================

\begin{abstract}

\noindent We study the content of municipal government websites....

\end{abstract}
\thispagestyle{empty}
% \doublespacing
% Description of the possible challenges
\section{Introduction}

\section{Background}

\cite{grimmelikhuijsen2010transparency} run an experiment in which citizens are exposed to randomly selected levels of information about local government council minutes. They find a negative relationship between the information level and perceptions of competence in the local government. This raises an interesting question regarding whether citizens or more likely to participate when they perceive competence or when they perceive incompetence.

\cite{wang2005evaluating} present a widely cited `model' for evaluating the accessibility of information on government websites. This is an important paper with which we should be familiar at a very detailed level as we use archived web content to assess the volume/accessibility of information provided by local governments.

\cite{osman2014cobra} is less relevant, but they develop a multi-item measure to predict the level of citizen satisfaction with e-government services. 


\cite{grimmelikhuijsen2012developing} conduct an enormously relevant study. Insofar as we analyze what predicts openness of government websites, we will be replicating and building upon this study. They focus on Dutch municipal websites, and their approach is fairly limited in scope and highly manual (which we can compliment). For example, one of the dependent variables ``Decision-making transparency,'' is measured ``using a discrete (1/0) indicator for whether the underlying principles or reasons for local air pollution policies were given on the Web site.'' 


\section{Data}
The General Services Administration (GSA) maintains all .gov addresses, and provides a complete\footnote{Domains used for testing and internal programs are excluded.} list of all such domains to the public through GitHub\footnote{https://github.com/GSA/data/tree/gh-pages/dotgov-domains}. This list is updated once per month - we rely on the version released on January 16, 2017. The data from the GSA contains the following variables: One, domain name, specifically, the all-uppercase version of domain and top-level domain (for example, 'ABERDEENMD.GOV'). Two, the type of government entity to which the domain is registered, such as city, county, federal agency, etc. Three, for federal agencies, the name is specfied. Finally, the city in which the domain is registered, is noted.

Here, we focus only on cities. As a first step, we use a webdriver-controlled browser (Firefox/Selenium/Geckodriver) to test whether all of the city websites actually work. Of the 2425 domains listed by the GSA as cities, 292 are not accessible. Furthermore, the .gov domain, as registered at the GSA, is frequently not the website a city actually uses. In many cases, these sites redirect to another address, sometimes not a .gov domain (in this case, we simply use this domain). We record these URLs, as they are required to retrieve the images websites stored in the Wayback Machine (WbM).

In order to provide an overview of our coverage (as not all cities, towns and villages use .gov addresses), we merge this list with U.S. Census data\footnote{http://www2.census.gov/programs-surveys/popest/datasets/2010-2015/cities/totals/sub-est2015\_all.csv}. Here, several limitations in the GSA data need to be accounted for: One, even though the GSA nominally separates websites of cities and counties, some of the domains categorized as cities actually belong to counties. The same is true for townships and boroughs. Ergo, we eliminate all websites belonging to these three types of entities by hand. Furthermore, the city name, as given by the GSA, refers to the city in which the domain is registered, which is not necessarily equivalent to the city the website serves. In many cases, a website of a larger city may be registered to one of its subdivisions (for example, the website of New York is registered to Brooklyn), or vice versa (for example, the website of Homecroftin, a small town within Indianapolis, is registered to the city as a whole). Consequently we fix mismatches between websites and cities manually. Finally, a number of cities are simply misspelled, which we also correct by hand.

After the counties, townships and cities that cannot be matched to the Census data\footnote{There are five cities that are not contained in the Census data} and duplicate websites (some cities have more than one website) are removed, 1813 domains/cities remain.

These cities contain 90,616,865 people, and thus about 28\% of the U.S. population (see figure 1).

\begin{figure}[!ht]
	\centering
	%\caption{Population coverage}
	\includegraphics[width=0.9\linewidth,height=0.9\textheight]{figures/coverage_states.pdf}
\end{figure}

We use the resulting list of websites to acccess their copies stored in the Internet Archive's Wayback Machine. To this end, we rely on the Ruby Gem 'Wayback Machine Downloader'\footnote{https://github.com/hartator/wayback-machine-downloader} (WbMD). We supply the URL that each .gov website redirects to to the WbMD, which then downloads every file present in the WbM from a snapshot in October 2016, or, if not available, as soon as possible after this point.

<Note: We have not actually done this last step for all websites (however, the R script which runs the Ruby package is already set up to do so once we need to). Instead 10 websites were randomly sampled from an older version of the GSA list, which still contained counties and townships, which is why one of the 10 websites is from Dutchess County, NY.>

% latex table generated in R 3.3.2 by xtable 1.8-2 package
% Wed Feb 22 21:39:50 2017
\begin{table}[ht]
	\centering
	\begin{tabular}{lr}
		\hline
		File type & Occurrences \\ 
		\hline
		.pdf & 1371 \\ 
		.html & 819 \\ 
		.png & 210 \\ 
		.jpg & 131 \\ 
		.gif &  99 \\ 
		.js &  51 \\ 
		.PDF &  50 \\ 
		.aspx &  43 \\ 
		.doc &  35 \\ 
		.css &  32 \\ 
		.JPG &  26 \\ 
		.Net &  12 \\ 
		.xlsx &   6 \\ 
		.docx &   5 \\ 
		.ttf &   3 \\ 
		.xml &   3 \\ 
		.htm &   2 \\ 
		.woff &   2 \\ 
		.xls &   2 \\ 
		.asp &   1 \\ 
		.eot &   1 \\ 
		.GIF &   1 \\ 
		.ico &   1 \\ 
		.PNG &   1 \\ 
		.ppt &   1 \\ 
		.swf &   1 \\ 
		.txt &   1 \\ 
		\hline
	\end{tabular}
	\caption{File types in scraped websites} 
\end{table}

% latex table generated in R 3.3.2 by xtable 1.8-2 package
% Wed Feb 22 21:35:10 2017
\begin{table}[ht]
	\centering
	\begin{tabular}{lrr}
		\hline
		Website & Files & Size (MB) \\ 
		\hline
		brownsvilletn.gov & 188 & 14328 \\ 
		www.centralpointoregon.gov & 150 & 137440 \\ 
		www.dedham-ma.gov & 603 & 212572 \\ 
		www.duncanok.gov &  84 & 47064 \\ 
		www.dutchessny.gov & 110 & 291376 \\ 
		www.ennistx.gov & 200 & 26244 \\ 
		www.greenvillenc.gov & 333 & 25732 \\ 
		www.romi.gov & 491 & 112584 \\ 
		www.trumbull-ct.gov & 787 & 191540 \\ 
		www.westonct.gov & 861 & 213140 \\ 
		\hline
	\end{tabular}
	\caption{Test websites} 
\end{table}

% latex table generated in R 3.3.2 by xtable 1.8-2 package
% Wed Mar  1 11:55:24 2017
\begin{table}[ht]
	\centering
	\begin{tabular}{rr}
		\hline
		& tf \\ 
		\hline
		tax & 176324 \\ 
		date & 98949 \\ 
		due & 97192 \\ 
		amt & 96382 \\ 
		town & 86726 \\ 
		value & 81119 \\ 
		total & 70825 \\ 
		parcel & 63589 \\ 
		county & 56201 \\ 
		market & 51758 \\ 
		east & 51357 \\ 
		full & 51199 \\ 
		nrth & 50566 \\ 
		book & 50306 \\ 
		deed & 50231 \\ 
		bill & 49719 \\ 
		acres & 48935 \\ 
		acct & 44871 \\ 
		csd & 43792 \\ 
		owners & 43510 \\ 
		res & 41803 \\ 
		family & 36883 \\ 
		fire & 35156 \\ 
		school & 33685 \\ 
		name & 30382 \\ 
		red & 30362 \\ 
		taxable & 30248 \\ 
		hook & 29902 \\ 
		homestead & 29287 \\ 
		outside & 28593 \\ 
		\hline
	\end{tabular}
	\caption{Top term frequencies for 10 test websites} 
\end{table}

\subsection{Indiana City Websites}

It would be fine to focus on Indiana as a case. First, we need to answer some preliminary questions about the data.

\begin{enumerate}

\item For what percentage and number of IN cities can we find data from the WBM?
\item For how many election cycles can we find political leadership data for these matched cities?
\item In what number and percentage of cities is the local leadership majority Republican? 
\item Relatedly, in a typical election cycle, for how many cities do we see a transition in party leadership (i.e., a shift from majority D (R) to majority (R) D). 

\end{enumerate}

\begin{enumerate}
	
	\item 30 cities, with a combined population of 1,180,435. However, since only cities (as opposed to towns and villages) hold mayoral elections, only 16 of these, with a combined population of 1,094,383 can be matched to the election data.
	\item 2015, 2011, 2007, 2003.
	\item Of the 16 cities, 7 have Republican mayors after the 2015 elections.
	\item In 6 cases, a shift of party control occurs, with 4 of these being Republican --> Democratic. 
	
\end{enumerate}

% latex table generated in R 3.3.3 by xtable 1.8-2 package
% Wed Mar 22 11:32:43 2017
\begin{table}[ht]
	\centering
	\begin{tabular}{lrrlrrl}
		\hline
		City & DemVotes & RepVotes & Winner & Change & Pop15 & url \\ 
		\hline
		Attica &  & 187 & Republican & 0 & 3117 & https://attica-in.gov/ \\ 
		Connersville & 1005 & 995 & Democratic & 1 & 13010 & http://connersvillecommunity.com/ \\ 
		Frankfort &  & 1748 & Republican & 0 & 16060 & http://frankfort-in.gov/ \\ 
		Huntingburg & 447 & 793 & Republican & 0 & 6035 & http://www.huntingburg-in.gov/ \\ 
		Indianapolis & 92830 & 56661 & Democratic & 1 & 862781 & http://www.indy.gov \\ 
		Lake Station & 1483 & 227 & Democratic & 0 & 12054 & http://www.lakestation-in.gov/ \\ 
		Linton & 785 & 692 & Democratic & 0 & 5284 & http://www.linton-in.gov/ \\ 
		Madison & 1192 & 1915 & Republican & 0 & 12040 & http://www.madison-in.gov/ \\ 
		Mitchell & 229 & 495 & Republican & 1 & 4252 & http://mitchell-in.com/ \\ 
		Monticello & 0 &  & Democratic & 0 & 5322 & http://www.monticelloin.gov/ \\ 
		North Vernon & 679 & 697 & Republican & 1 & 6619 & http://www.northvernon-in.gov/ \\ 
		Richmond & 3421 & 2731 & Democratic & 0 & 35854 & http://www.richmondindiana.gov/ \\ 
		Rockport & 286 & 272 & Democratic & 1 & 2223 & http://www.cityofrockport-in.gov/ \\ 
		South Bend & 8515 & 2074 & Democratic & 0 & 101516 & https://www.southbendin.gov/ \\ 
		Union City & 338 & 440 & Republican & 0 & 3447 & http://www.unioncity-in.gov/ \\ 
		Winchester & 606 & 524 & Democratic & 1 & 4769 & http://www.winchester-in.gov/ \\ 
		\hline
	\end{tabular}
	\caption{} 
\end{table}

\subsection{Topic modeling}
We hypothesize that a change in leadership from one party to the other will lead to a change in website content because the two parties have different agendas. Democrats have a predilection towards policies that promote social and economic equality, whereas Republicans like to emphasize small government as well as law and order. Documents uploaded to city websites are expected to be a reflection of these preferences. The author-topic model \citep{Rosen-Zvi2004} captures this concept quite well, because it assumes that different authors prefer different topics, each of which is associated with a group of words. We classify all documents that have been present before the change in party control as from one party\footnote{This may be wrong in some cases, as they might be leftovers from yet another predecessor government. If the WaybackMachine data reaches back far enough, we might be able to identify and include only the documents that were added since the previous election.}, and the new documents as stemming from party 2. The number of topics \textit{j} would be set to at least three, where one topic would (hopefully) be reserved for purely administrative, non-partisan issues so that the other two (or more) would resolve to party-specific policy issues. Ideally, the result would then show significant\footnote{Though I am not sure how to calculate that.} differences in the probabilities of authors being assigned to partisan topics.

Alternatively, the more commonplace LDA \cite{Blei2003} is another feasible way of modeling the way in which websites receive a makeover when party control of the mayorship changes. As noted by \citep{Rosen-Zvi2004}, LDA can be considered a special case of the author-topic model, ''where each document has one unique author''. Here, a city website would be a collection of documents, each of which originates entirely from either Democratic or Republican leadership. In a way, this captures the data-generating process more closely.

Even so, neither the author-topic model nor the LDA model are a perfect fit for the structure of city government websites. One assumes that multiple authors write one document. This may be appropriate for the original purpose of author-topic models, scientific papers, which have multiple authors. This is not as good of a fit for city governments however. Using the LDA instead deals with this problem, but it also assumes that one document has multiple topics. For city government websites, this may be an erroneous assumption, because in many cases, each of these files appears to have one very specific purpose - agricultural, parks and recreation, smoke detectors, and so on.

Furthermore, if we only investigate cities in which control of government changes from one party to another, we may overestimate its effect. Not only does a transition in party control occur, but the person in charge also changes. Parties are fairly homogeneous, so that two mayors from the same party may have very different policy preferences and managerial styles. To remedy this problem, we [could] utilize matching, pairing our cases with similar cities in which the incumbent does not run for re-election, but party control stays the same nevertheless.

Another problem with these generative models is that they ignore the fact that despite possible changes to websites due to a leadership transition, large parts of the content carry over. This means that unless the successor government decides to delete everything, some of the existing documents will be preserved, and in the model, also attributed to the new 'author'. But the reverse is not possible, because the predecessor government can't choose to retain documents from the future.

One solution might be to rely on LDA models, but only to apply them to documents that were deleted, the strongest possible expression of a successor governments diverging policy preferences. This way, we could identify directly which issues are considered to be the most divisive.

There is also a possibility that city size is a determinant of the number of topics. Larger cities tend to have bigger websites, owing to a larger set of issues that need to be dealt with.

Traditional author models that rely on lexical or syntactic differences may also be of use. Parties and their voters are associated with specific educational backgrounds, which may in turn be associated with specific writing styles. However, it seems likely that personal rather than partisan authorship is playing an even larger role here.

Another option, that I have not looked closely at yet, are (continuous) dynamic topic models by David Blei, which would allow us to model the progression of topics over time, i.e. when party control changes.

\begin{figure}[!ht]
	\centering
	%\caption{Population coverage}
	\includegraphics[width=\linewidth]{figures/wtpIndy.pdf}
\end{figure}

% latex table generated in R 3.3.2 by xtable 1.8-2 package
% Fri Mar 24 12:21:19 2017
\begin{table}[ht]
\centering
\begin{tabular}{lrrrr}
  \hline
File type & oct15 & jan16 & feb16 & mar16 \\ 
  \hline
.pdf & 358 & 183 & 111 & 394 \\ 
  .aspx &  99 & 112 & 116 &  76 \\ 
  .jpg &  22 &  24 &  17 &  12 \\ 
  .gif &   3 &   5 &   1 &   5 \\ 
  .JPG &   3 &   2 &   1 &   5 \\ 
  .png &   3 &   7 &   2 &   1 \\ 
  .asmx &   2 &   1 &   1 &   5 \\ 
  .PDF &   1 &   1 &   1 &   2 \\ 
   \hline
\end{tabular}
\caption{File types of Indy.gov at different points in time} 
\end{table}

\newpage

%\bibliographystyle{apsr} % apsr stopped working for me
\bibliographystyle{plainnat}
\bibliography{ref}

\end{document}
